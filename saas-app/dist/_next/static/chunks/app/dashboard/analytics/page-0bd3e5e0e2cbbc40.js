(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{59417:function(e,t,r){Promise.resolve().then(r.bind(r,76749))},76749:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(57437),a=r(2265),s=r(99376),l=r(66070),o=r(12339),i=r(47625),c=r(58336),d=r(56940),f=r(97059),u=r(62994),m=r(8147),x=r(22190),h=r(54061);function j(){let e=(0,s.useRouter)(),[t,r]=(0,a.useState)([]),[j,p]=(0,a.useState)([]),[g,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!localStorage.getItem("token")){e.push("/login");return}w()},[e]);let w=async()=>{let e=localStorage.getItem("token");try{let[t,n]=await Promise.all([fetch("".concat("http://localhost:8787","/analytics/engagement?days=30"),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("".concat("http://localhost:8787","/analytics/followers?days=30"),{headers:{Authorization:"Bearer ".concat(e)}})]);if(t.ok){let e=await t.json();r(e.data)}if(n.ok){let e=await n.json();p(e.data)}}catch(e){console.error("Error:",e)}finally{y(!1)}};return g?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Analytics"}),(0,n.jsxs)(o.mQ,{defaultValue:"engagement",children:[(0,n.jsxs)(o.dr,{children:[(0,n.jsx)(o.SP,{value:"engagement",children:"Engagement"}),(0,n.jsx)(o.SP,{value:"followers",children:"Followers"}),(0,n.jsx)(o.SP,{value:"platforms",children:"Platforms"})]}),(0,n.jsx)(o.nU,{value:"engagement",children:(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{children:[(0,n.jsx)(l.ll,{children:"Engagement Over Time"}),(0,n.jsx)(l.SZ,{children:"Likes, comments, and shares across all platforms"})]}),(0,n.jsx)(l.aY,{children:t.length>0?(0,n.jsx)("div",{className:"h-[400px]",children:(0,n.jsx)(i.h,{width:"100%",height:"100%",children:(0,n.jsxs)(c.w,{data:t,children:[(0,n.jsx)(d.q,{strokeDasharray:"3 3"}),(0,n.jsx)(f.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,n.jsx)(u.B,{}),(0,n.jsx)(m.u,{}),(0,n.jsx)(x.D,{}),(0,n.jsx)(h.x,{type:"monotone",dataKey:"likes",stroke:"#8884d8",name:"Likes"}),(0,n.jsx)(h.x,{type:"monotone",dataKey:"comments",stroke:"#82ca9d",name:"Comments"}),(0,n.jsx)(h.x,{type:"monotone",dataKey:"shares",stroke:"#ffc658",name:"Shares"})]})})}):(0,n.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No engagement data available yet"})})]})}),(0,n.jsx)(o.nU,{value:"followers",children:(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{children:[(0,n.jsx)(l.ll,{children:"Follower Growth"}),(0,n.jsx)(l.SZ,{children:"Track your follower count over time"})]}),(0,n.jsx)(l.aY,{children:j.length>0?(0,n.jsx)("div",{className:"h-[400px]",children:(0,n.jsx)(i.h,{width:"100%",height:"100%",children:(0,n.jsxs)(c.w,{data:j,children:[(0,n.jsx)(d.q,{strokeDasharray:"3 3"}),(0,n.jsx)(f.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,n.jsx)(u.B,{}),(0,n.jsx)(m.u,{}),(0,n.jsx)(h.x,{type:"monotone",dataKey:"followers",stroke:"#8884d8",name:"Followers"})]})})}):(0,n.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No follower data available yet"})})]})}),(0,n.jsx)(o.nU,{value:"platforms",children:(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{children:[(0,n.jsx)(l.ll,{children:"Platform Breakdown"}),(0,n.jsx)(l.SZ,{children:"Performance across different platforms"})]}),(0,n.jsx)(l.aY,{children:(0,n.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"Connect your accounts to see platform breakdown"})})]})})]})]})}},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return f},ll:function(){return i}});var n=r(57437),a=r(2265),s=r(94508);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});f.displayName="CardFooter"},12339:function(e,t,r){"use strict";r.d(t,{SP:function(){return c},dr:function(){return i},mQ:function(){return o},nU:function(){return d}});var n=r(57437),a=r(2265),s=r(21524),l=r(94508);let o=s.fC,i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});i.displayName=s.aV.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});c.displayName=s.xz.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=s.VY.displayName},94508:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(61994),a=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[924,5,275,971,117,744],function(){return e(e.s=59417)}),_N_E=e.O()}]);