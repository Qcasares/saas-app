#!/bin/bash
# Bankr CLI wrapper for OpenClaw
# Usage: bankr <command> [args]

# Check if bankr CLI is installed
if ! command -v bankr &> /dev/null; then
    echo "Error: Bankr CLI not found. Install with: npm install -g @bankr/cli"
    exit 1
fi

# Check for API key
if [ -z "$BANKR_API_KEY" ]; then
    # Try to load from config
    if [ -f "$HOME/.bankr/config.json" ]; then
        export BANKR_API_KEY=$(jq -r '.apiKey // empty' "$HOME/.bankr/config.json" 2>/dev/null)
    fi
fi

if [ -z "$BANKR_API_KEY" ]; then
    echo "Error: BANKR_API_KEY not set. Run: bankr login"
    exit 1
fi

# Execute bankr command
exec bankr "$@"
